[gd_scene load_steps=14 format=1]

[ext_resource path="res://dungeon/level.gd" type="Script" id=1]
[ext_resource path="res://dungeon/spr_floor.tex" type="Texture" id=2]
[ext_resource path="res://dungeon/Hole.tscn" type="PackedScene" id=3]
[ext_resource path="res://dungeon/ExitDoor.tscn" type="PackedScene" id=4]
[ext_resource path="res://dungeon/dungeon_tileset.tres" type="TileSet" id=5]
[ext_resource path="res://player/player.tscn" type="PackedScene" id=6]
[ext_resource path="res://dungeon/Item.tscn" type="PackedScene" id=7]
[ext_resource path="res://enemy/Enemy1.tscn" type="PackedScene" id=8]

[sub_resource type="RectangleShape2D" id=1]

custom_solver_bias = 0.0
extents = Vector2( 2.12575, 75.8534 )

[sub_resource type="RectangleShape2D" id=2]

custom_solver_bias = 0.0
extents = Vector2( 2.12575, 77.6364 )

[sub_resource type="RectangleShape2D" id=3]

custom_solver_bias = 0.0
extents = Vector2( 2.12575, 75.8534 )

[sub_resource type="RectangleShape2D" id=4]

custom_solver_bias = 0.0
extents = Vector2( 2.12575, 75.8534 )

[sub_resource type="NavigationPolygon" id=5]

vertices = Vector2Array( 1440.24, 1257.55, 846.207, 1100.6, 1515.55, 1059.5, 1791.71, 1045.55, 1797.29, 1263.13, 524.916, 760.354, 554.699, 739.596, 809.805, 649.437, 1066.44, 657.806, 840.792, 816.309, 684.659, 819.016, 1521.13, 13.4281, 1522.87, 654.499, 1436.4, 392.078, 1421.66, 114.609, 43.7282, 340.099, 204.186, 339.284, 133.324, 365.349, 43.7282, 366.163, 293.745, 41.3232, 278.533, 540.143, 202.557, 178.012, 974.71, 24.8846, 1012.83, 124.431, 981.226, 496.484, 1021.42, 390.851, 44.5993, 47.0577, 44.5427, 178.012, 1231.28, 486.71, 522.209, 1161.97, 691.879, 1106.91, 555.959, 1204.55, 551.089, 578.049, 595.012, 546.225, 1232.91, 908.625, 1517.99, 751.425, 1691.29, 35.7443, 1814.03, 21.7967, 1825.19, 733.123, 1678.44, 648.797, 1065.12, 911.883, 302.901, 742.304, 111.571, 763.964, 270.411, 1169.19, 262.288, 904.754, 375.101, 904.754, 372.394, 1161.97, 550.38, 1634.14, 265.85, 1634.14, 271.429, 1366.34, 1632.71, 1436.08, 1805.66, 1438.87, 1802.87, 1614.61, 1619.8, 1544.76, 1244.97, 1603.45, 1448.75, 1553.71, 1239.39, 1369.13, 949.281, 1355.18, 728.909, 1190.6, 127.794, 482.271, 935.333, 1622.98, 728.909, 1614.61, 39.8994, 1363.55, 114.278, 1162.87, 469.484, 334.222, 483.432, 38.5338, 801.436, 44.1128, 617.328, 353.749, 301.998, 585.269, 42.9576, 484.433 )
polygons = [ IntArray( 0, 1, 2, 3, 4 ), IntArray( 5, 6, 7, 8, 9, 10 ), IntArray( 11, 12, 13, 14 ), IntArray( 15, 16, 17, 18 ), IntArray( 19, 20, 16, 21 ), IntArray( 22, 11, 14, 23 ), IntArray( 24, 22, 23, 25 ), IntArray( 26, 19, 21, 27 ), IntArray( 28, 24, 25, 13 ), IntArray( 29, 5, 10, 30, 31 ), IntArray( 7, 6, 32, 33 ), IntArray( 34, 28, 13, 12, 35 ), IntArray( 36, 37, 38, 39 ), IntArray( 39, 38, 35, 12 ), IntArray( 34, 35, 2 ), IntArray( 34, 2, 1, 40 ), IntArray( 40, 1, 9, 8 ), IntArray( 41, 6, 5, 42 ), IntArray( 43, 44, 45, 46 ), IntArray( 29, 31, 47, 48, 49, 46 ), IntArray( 50, 51, 52, 53 ), IntArray( 53, 52, 54, 55 ), IntArray( 55, 54, 56, 0 ), IntArray( 1, 0, 56, 57, 58, 30 ), IntArray( 17, 16, 20, 59 ), IntArray( 57, 60, 61, 58 ), IntArray( 30, 58, 31 ), IntArray( 43, 46, 49, 62 ), IntArray( 63, 43, 62 ), IntArray( 64, 65, 66, 67 ), IntArray( 67, 66, 7, 33 ), IntArray( 20, 33, 32, 68 ), IntArray( 59, 20, 68, 41, 42, 69 ), IntArray( 42, 63, 62, 69 ), IntArray( 15, 18, 69 ), IntArray( 26, 27, 15 ), IntArray( 62, 26, 15 ), IntArray( 62, 15, 69 ) ]
outlines = [ Vector2Array( 44.5993, 47.0577, 39.8994, 1363.55, 271.429, 1366.34, 265.85, 1634.14, 550.38, 1634.14, 555.959, 1204.55, 728.909, 1190.6, 728.909, 1614.61, 935.333, 1622.98, 949.281, 1355.18, 1239.39, 1369.13, 1244.97, 1603.45, 1802.87, 1614.61, 1805.66, 1438.87, 1632.71, 1436.08, 1619.8, 1544.76, 1448.75, 1553.71, 1440.24, 1257.55, 1797.29, 1263.13, 1791.71, 1045.55, 1515.55, 1059.5, 1517.99, 751.425, 1825.19, 733.123, 1814.03, 21.7967, 1691.29, 35.7443, 1678.44, 648.797, 1522.87, 654.499, 1521.13, 13.4281, 974.71, 24.8846, 981.226, 496.484, 1231.28, 486.71, 1232.91, 908.625, 1065.12, 911.883, 1066.44, 657.806, 809.805, 649.437, 801.436, 44.1128, 483.432, 38.5338, 469.484, 334.222, 617.328, 353.749, 595.012, 546.225, 278.533, 540.143, 293.745, 41.3232 ), Vector2Array( 44.5427, 178.012, 202.557, 178.012, 204.186, 339.284, 43.7282, 340.099 ), Vector2Array( 43.7282, 366.163, 133.324, 365.349, 127.794, 482.271, 42.9576, 484.433 ), Vector2Array( 111.571, 763.964, 114.278, 1162.87, 270.411, 1169.19, 262.288, 904.754, 375.101, 904.754, 372.394, 1161.97, 522.209, 1161.97, 524.916, 760.354 ), Vector2Array( 301.998, 585.269, 302.901, 742.304, 554.699, 739.596, 551.089, 578.049 ), Vector2Array( 684.659, 819.016, 840.792, 816.309, 846.207, 1100.6, 691.879, 1106.91 ), Vector2Array( 1012.83, 124.431, 1021.42, 390.851, 1436.4, 392.078, 1421.66, 114.609 ) ]

[node name="Dungeon" type="Navigation2D"]

script/script = ExtResource( 1 )

[node name="Sprite" type="Sprite" parent="."]

transform/pos = Vector2( 897.58, 815.313 )
transform/scale = Vector2( 15.0247, 13.7393 )
texture = ExtResource( 2 )
modulate = Color( 0.0941176, 0.0941176, 0.0941176, 1 )

[node name="left_wall" type="StaticBody2D" parent="."]

editor/display_folded = true
transform/pos = Vector2( 0, 284.632 )
input/pickable = false
shapes/0/shape = SubResource( 1 )
shapes/0/transform = Matrix32( 3.65791, 0, 0, 11.111, 8.10297, 518.971 )
shapes/0/trigger = false
collision/layers = 1
collision/mask = 1
constant_linear_velocity = Vector2( 0, 0 )
constant_angular_velocity = 0.0
friction = 1.0
bounce = 0.0

[node name="CollisionShape2D" type="CollisionShape2D" parent="left_wall"]

transform/pos = Vector2( 8.10297, 518.971 )
transform/scale = Vector2( 3.65791, 11.111 )
shape = SubResource( 1 )
trigger = false
_update_shape_index = 0

[node name="down_wall" type="StaticBody2D" parent="."]

editor/display_folded = true
transform/pos = Vector2( 530.558, 596.193 )
transform/rot = 90.0
input/pickable = false
shapes/0/shape = SubResource( 2 )
shapes/0/transform = Matrix32( 5.06641, 0, 0, 11.8542, -1059.43, 405.248 )
shapes/0/trigger = false
collision/layers = 1
collision/mask = 1
constant_linear_velocity = Vector2( 0, 0 )
constant_angular_velocity = 0.0
friction = 1.0
bounce = 0.0

[node name="CollisionShape2D" type="CollisionShape2D" parent="down_wall"]

transform/pos = Vector2( -1059.43, 405.248 )
transform/scale = Vector2( 5.06641, 11.8542 )
shape = SubResource( 2 )
trigger = false
_update_shape_index = 0

[node name="right_wall" type="StaticBody2D" parent="."]

editor/display_folded = true
transform/pos = Vector2( 1015.38, 281.843 )
input/pickable = false
shapes/0/shape = SubResource( 3 )
shapes/0/transform = Matrix32( 3.65791, 0, 0, 10.8791, 819.577, 550.37 )
shapes/0/trigger = false
collision/layers = 1
collision/mask = 1
constant_linear_velocity = Vector2( 0, 0 )
constant_angular_velocity = 0.0
friction = 1.0
bounce = 0.0

[node name="CollisionShape2D" type="CollisionShape2D" parent="right_wall"]

transform/pos = Vector2( 819.577, 550.37 )
transform/scale = Vector2( 3.65791, 10.8791 )
shape = SubResource( 3 )
trigger = false
_update_shape_index = 0

[node name="upper_wall" type="StaticBody2D" parent="."]

editor/display_folded = true
transform/pos = Vector2( 490.919, 2.51754 )
input/pickable = false
shapes/0/shape = SubResource( 4 )
shapes/0/transform = Matrix32( -1.83714e-07, -4.20288, 12.0128, -5.25096e-07, 439.891, 0.363787 )
shapes/0/trigger = false
collision/layers = 1
collision/mask = 1
constant_linear_velocity = Vector2( 0, 0 )
constant_angular_velocity = 0.0
friction = 1.0
bounce = 0.0

[node name="CollisionShape2D1" type="CollisionShape2D" parent="upper_wall"]

transform/pos = Vector2( 439.891, 0.363787 )
transform/rot = 90.0
transform/scale = Vector2( 4.20288, 12.0128 )
shape = SubResource( 4 )
trigger = false
_update_shape_index = 0

[node name="Hole5" parent="." instance=ExtResource( 3 )]

transform/pos = Vector2( 64.0697, 428.569 )
transform/rot = 90.0
transform/scale = Vector2( 1.67234, 1.99881 )

[node name="Hole6" parent="." instance=ExtResource( 3 )]

transform/pos = Vector2( 128.599, 1522.29 )
transform/rot = 90.0
transform/scale = Vector2( 4.43637, 4.17668 )

[node name="Hole7" parent="." instance=ExtResource( 3 )]

transform/pos = Vector2( 1088.79, 1529.14 )
transform/rot = 90.0
transform/scale = Vector2( 4.22245, 4.17668 )

[node name="Hole1" parent="." instance=ExtResource( 3 )]

transform/pos = Vector2( 428.168, 643.417 )
transform/scale = Vector2( 4.11373, 1.92174 )

[node name="ExitDoor" parent="." instance=ExtResource( 4 )]

transform/pos = Vector2( 1143.57, 31.3095 )
is_open = true

[node name="TileMap" type="TileMap" parent="."]

mode = 0
tile_set = ExtResource( 5 )
cell/size = Vector2( 64, 64 )
cell/quadrant_size = 16
cell/custom_transform = Matrix32( 1, 0, 0, 1, 0, 0 )
cell/half_offset = 2
cell/tile_origin = 0
cell/y_sort = false
collision/use_kinematic = false
collision/friction = 1.0
collision/bounce = 0.0
collision/layers = 1
collision/mask = 1
occluder/light_mask = 1
tile_data = IntArray( -131067, 1, -131059, 1, -131048, 1, 5, 1, 13, 1, 24, 1, 131077, 1, 131085, 1, 131088, 1, 131090, 1, 131092, 1, 131096, 1, 262143, 0, 196609, 0, 262149, 1, 262157, 1, 262160, 1, 262162, 1, 262164, 1, 262168, 1, 393216, 23, 393221, 1, 393223, 1, 393229, 1, 393240, 1, 524301, 1, 524303, 1, 524304, 1, 524305, 1, 524312, 1, 589829, 23, 589831, 23, 655377, 1, 720913, 1, 786434, 1, 786436, 1, 786438, 1, 786449, 1, 786456, 1, 786458, 1, 786460, 1, 851979, 1, 917506, 1, 917510, 1, 917528, 1, 917530, 1, 917532, 1, 983051, 1, 1048578, 1, 1048582, 1, 1245193, 1, 1310743, 1, 1310745, 1, 1310747, 1, 1376265, 1, 1441792, 23, 1441794, 23, 1441807, 23, 1441809, 23, 1441815, 1, 1507337, 1, 1572864, 23, 1572866, 23, 1572879, 23, 1572881, 23, 1638409, 1 )
__meta__ = {
"_edit_lock_": true
}

[node name="player" parent="." instance=ExtResource( 6 )]

transform/pos = Vector2( 130.817, 85.4536 )

[node name="Item" parent="." instance=ExtResource( 7 )]

transform/pos = Vector2( 345.081, 980.842 )

[node name="Item4" parent="." instance=ExtResource( 7 )]

transform/pos = Vector2( 1725.75, 542.044 )

[node name="NavigationPolygonInstance" type="NavigationPolygonInstance" parent="."]

navpoly = SubResource( 5 )
enabled = true

[node name="Enemy1" parent="." instance=ExtResource( 8 )]

transform/pos = Vector2( 642.997, 168.134 )
level_path = NodePath("..")

[node name="Enemy2" parent="." instance=ExtResource( 8 )]

transform/pos = Vector2( 184.038, 624.821 )
level_path = NodePath("..")

[node name="Enemy3" parent="." instance=ExtResource( 8 )]

transform/pos = Vector2( 109.06, 1245.1 )
level_path = NodePath("..")

[node name="Enemy4" parent="." instance=ExtResource( 8 )]

transform/pos = Vector2( 415.79, 1449.58 )
level_path = NodePath("..")

[node name="Enemy5" parent="." instance=ExtResource( 8 )]

transform/pos = Vector2( 840.668, 1445.04 )
level_path = NodePath("..")

[node name="Enemy6" parent="." instance=ExtResource( 8 )]

transform/pos = Vector2( 1206.47, 1131.49 )
level_path = NodePath("..")

[node name="Enemy7" parent="." instance=ExtResource( 8 )]

transform/pos = Vector2( 1717.69, 1529.11 )
level_path = NodePath("..")


